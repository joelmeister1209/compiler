;STRING start "starting my test"
;STRING space " "
;STRING eol "\n"
;JSR main
;SYS HALT
;LABEL testFunc
;LINK 
;STOREI 1 $R
;RET 
;LABEL main
;LINK 
;WRITES start
;WRITES eol
;STOREI 10 $L1
;WRITEI $L1
;WRITES eol
;PUSH
;PUSH $L1
;JSR testFunc
;POP
;POP $T1
;STOREI $T1 $L2
;WRITEI $L2
;WRITES eol
;STOREI $L1 $T2
;ADDI $L2 $T2 $T3
;STOREI $T3 $L3
;WRITEI $L3
;WRITES eol
;STOREI $L1 $T4
;SUBI $L3 $T4 $T5
;STOREI $T5 $L2
;WRITEI $L2
;WRITES eol
;PUSH
;PUSH $L3
;JSR testFunc
;POP
;POP $T6
;STOREI $T6 $L4
;WRITEI $L1
;WRITES eol
;WRITEI $L2
;WRITES eol
;WRITEI $L3
;WRITES eol
;WRITEI $L4
;WRITES eol
str start "starting my test"
str space " "
str eol "\n"
jsr main
sys halt
label testFunc
link 1
move 1 $7
unlnk
ret
label main
link 5
sys writes start
sys writes eol
move 10 $-1
sys writei $-1
sys writes eol
push
push $-1
push r0
push r1
push r2
push r3
jsr testFunc
pop r3
pop r2
pop r1
pop r0
pop
move $-5 r0
pop r0
move r0 $-2
sys writei $-2
sys writes eol
move $-6 r1
move $-1 r1
move $-7 r2
addi r1 r2
move r2 $-3
sys writei $-3
sys writes eol
move $-8 r3
move $-1 r3
move $-5 r0
addi r3 r0
move $-5 r0
move r0 $-2
sys writei $-2
sys writes eol
push
push $-3
push r0
push r1
push r2
push r3
jsr testFunc
pop r3
pop r2
pop r1
pop r0
pop
move $-5 r0
pop r0
move $-5 r0
move r0 $-4
sys writei $-1
sys writes eol
sys writei $-2
sys writes eol
sys writei $-3
sys writes eol
sys writei $-4
sys writes eol
end
